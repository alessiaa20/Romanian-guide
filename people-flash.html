<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Romanian â€” Flashcards (Converted UI)</title>
  <style>
    :root{
      --bg:#1e1e2f;
      --card:#2a2a3d;
      --accent:#a78bfa;
      --muted:#cbd5e1;
      --glass:rgba(255,255,255,0.04);
      --btn-back:#4ade80;
      --glass-2: rgba(255,255,255,0.03);
      --radius:12px;
    }

    *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-tap-highlight-color: transparent}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg) 0%, #2a2a3d 60%);
      color:#f1f5f9;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .app{width:100%;max-width:1100px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:20px;margin:0}
    p.lead{margin:4px 0 0;color:var(--muted);font-size:13px}

    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    .panel{background:var(--card);border-radius:var(--radius);padding:18px;box-shadow:0 6px 24px rgba(0,0,0,0.6)}

    /* Flashcard area */
    .flashcard-area{display:flex;flex-direction:column;gap:12px}

    .card{
      position:relative;
      width:100%;
      height:220px;
      border-radius:10px;
      transform-style:preserve-3d;
      transition:transform .6s ease;
      cursor:pointer;
      overflow:hidden;
      user-select:none;
    }
    .card-inner{
      position:relative;
      width:100%;
      height:100%;
      transform-style:preserve-3d;
      transition:transform .6s ease;
    }
    .card.flipped .card-inner{ transform: rotateY(180deg); }

    .side{
      position:absolute;
      width:100%;
      height:100%;
      border-radius:10px;
      backface-visibility:hidden;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      font-size:28px;
      padding:18px;
      text-align:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), var(--glass));
    }

    .side .text{
      max-width:100%;
      word-break:break-word;
      line-height:1.2;
    }

    .back{
      transform:rotateY(180deg);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    }

    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ NEW BUTTON AESTHETICS ONLY (requested) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    button {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 9px 14px;
      border-radius: 12px;
      color: #f1f5f9;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all .25s ease;
      backdrop-filter: blur(6px);
    }

    button:hover {
      background: rgba(255,255,255,0.10);
      transform: translateY(-2px);
      box-shadow: 0 4px 14px rgba(0,0,0,0.3);
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    }

    /* Primary buttons */
    button.primary {
      background: linear-gradient(135deg, #a78bfa 0%, #c4b5fd 100%);
      border: none;
      color: #1f1f2a;
      font-weight: 600;
    }

    button.primary:hover {
      background: linear-gradient(135deg, #b29cff 0%, #d5c8ff 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 14px rgba(167,139,250,0.4);
    }

    /* Good/back buttons */
    button.goback {
      background: linear-gradient(135deg, #4ade80 0%, #86efac 100%);
      border: none;
      color: #1f1f2a;
      font-weight: 600;
    }

    button.goback:hover {
      background: linear-gradient(135deg, #5df292 0%, #a0f7c0 100%);
      box-shadow: 0 4px 14px rgba(74,222,128,0.35);
    }

    button:disabled {
      opacity: .5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ END OF BUTTON UPGRADE â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    .meta{display:flex;flex-direction:column;align-items:flex-end;gap:2px}
    .meta .small{color:var(--muted);font-size:13px}

    /* Sidebar */
    .sidebar{display:flex;flex-direction:column;gap:14px}
    .list{max-height:360px;overflow:auto;padding:8px;border-radius:8px;background:linear-gradient(180deg,var(--glass-2),transparent)}
    .list-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;gap:8px;cursor:pointer}
    .list-item:hover{background:rgba(255,255,255,0.03)}
    .badge{background:rgba(255,255,255,0.06);padding:6px 8px;border-radius:8px;min-width:28px;text-align:center}

    .games{display:flex;flex-direction:column;gap:8px}
    .match-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .tile{padding:12px;border-radius:8px;background:rgba(255,255,255,0.04);text-align:center;cursor:pointer;user-select:none}

    footer{margin-top:12px;color:var(--muted);font-size:13px}

    /* responsive */
    @media(max-width:1000px){ .grid{grid-template-columns:1fr} .sidebar{order:2} .meta{align-items:flex-start} }
    @media(max-width:600px){ .card{height:180px;font-size:20px} .grid{gap:12px} }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Romanian flashcards">
    <header>
      <div>
        <h1>Romanian Vocabulary â€” Flashcards</h1>
        <p class="lead">Modern UI conversion â€” click card to flip. Pronunciation, shuffle, and simple match game included.</p>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="speakBtn" title="Pronounce current Romanian word">ðŸ”Š Pronounce</button>
        <a href="flashcards.html" aria-label="Go back"><button class="goback">â¬… Go Back</button></a>
      </div>
    </header>

    <main class="grid" role="main">
      <section class="panel" aria-labelledby="flashcard-title">
        <div class="flashcard-area">
          <div id="flashcard" class="card" tabindex="0" aria-live="polite" aria-label="Flashcard. Click or press space to flip.">
            <div class="card-inner" id="card-inner">
              <div class="side front">
                <div id="term" class="text" aria-hidden="false">Loadingâ€¦</div>
              </div>
              <div class="side back">
                <div id="def" class="text" aria-hidden="true"></div>
              </div>
            </div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="controls" role="group" aria-label="Flashcard controls">
              <button id="prevBtn" title="Previous card">â—€ Prev</button>
              <button id="nextBtn" title="Next card">Next â–¶</button>
              <button id="flipBtn" title="Flip card">Flip</button>
              <button id="shuffle" title="Shuffle cards">Shuffle</button>
              <button id="againBtn" title="Mark again">Mark: Again</button>
              <button id="goodBtn" class="primary" title="Mark as known">Mark: Good</button>
            </div>

            <div class="meta">
              <div id="progress" class="small">0 / 0</div>
              <div id="score" class="small">Mastered: 0</div>
            </div>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
            <label style="color:var(--muted);font-size:13px">Study mode:</label>
            <select id="mode">
              <option value="flash">Flashcards (default)</option>
              <option value="typing">Typing recall</option>
            </select>

            <label style="color:var(--muted);font-size:13px;margin-left:8px">Auto-speak</label>
            <input id="autospeak" type="checkbox"/>
          </div>

          <div id="typingArea" style="display:none;margin-top:10px">
            <input id="typingInput" placeholder="Type the Romanian word..." style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:inherit" />
            <div style="margin-top:6px"><button id="checkBtn" class="primary">Check answer</button></div>
          </div>

        </div>

        <div style="margin-top:18px">
          <h3 style="margin:0 0 8px 0">Match game â€” click to pair</h3>
          <div id="matchArea" class="match-grid"></div>
          <div style="margin-top:8px"><button id="startMatch">Start match</button></div>
        </div>

        <footer>
          Tip: Use arrow keys for navigation. Space to flip.
        </footer>
      </section>

      <aside class="sidebar panel" aria-label="Vocabulary sidebar">
        <div>
          <h3 style="margin:0 0 8px 0">Answer list</h3>
          <div class="list" id="vocabList"></div>
        </div>

        <div>
          <h3 style="margin:0 0 8px 0">Controls & Progress</h3>
          <div style="display:flex;gap:8px">
            <button id="reset">Reset Progress</button>
            <button id="showAll">Show all</button>
          </div>
        </div>

        <div>
          <h3 style="margin:0 0 8px 0">Quick practice</h3>
          <div class="games">
            <button id="listenAll">Listen all</button>
            <button id="randomizeOrder">Random order</button>
          </div>
        </div>
      </aside>
    </main>
  </div>

<script>
/* â€”â€”â€” ALL JS SAME AS BEFORE (no changes) â€”â€”â€” */
const flashcards = [
  { question: "tall (masc.)", answer: "Ã®nalt" },
  { question: "tall (fem.)", answer: "Ã®naltÄƒ" },
  { question: "short (masc.)", answer: "scund" },
  { question: "short (fem.)", answer: "scundÄƒ" },
  { question: "beautiful", answer: "frumos" },
  { question: "smart", answer: "inteligent" },
  { question: "old (object)", answer: "vechi" },
  { question: "old (person)", answer: "bÄƒtrÃ¢n" },
  { question: "ugly (masc.)", answer: "urÃ¢t" },
  { question: "ugly (fem.)", answer: "urÃ¢tÄƒ" },
  { question: "young (masc.)", answer: "tÃ¢nÄƒr" },
  { question: "young (fem.)", answer: "tÃ¢nÄƒrÄƒ" },
  { question: "new (masc.)", answer: "nou" },
  { question: "new (fem.)", answer: "nouÄƒ" },
  { question: "fat", answer: "gras" },
  { question: "short (fem.)", answer: "scundÄƒ" },
  { question: "short (masc.)", answer: "scund" },
  { question: "car", answer: "maÈ™inÄƒ" },
  { question: "the car", answer: "maÈ™ina" }
];

let order = flashcards.map((_,i)=>i);
let currentIndex = 0;
let mastered = new Set(JSON.parse(localStorage.getItem('mastered') || '[]'));

const termEl = document.getElementById('term');
const defEl = document.getElementById('def');
const flashcardEl = document.getElementById('flashcard');
const cardInner = document.getElementById('card-inner');
const progressEl = document.getElementById('progress');
const scoreEl = document.getElementById('score');
const vocabListEl = document.getElementById('vocabList');
const speakBtn = document.getElementById('speakBtn');
const autospeak = document.getElementById('autospeak');
const typingArea = document.getElementById('typingArea');
const typingInput = document.getElementById('typingInput');

function renderCard(){
  const idx = order[currentIndex];
  const card = flashcards[idx];
  termEl.textContent = card.question;
  defEl.textContent = card.answer;
  progressEl.textContent = `${currentIndex+1} / ${flashcards.length}`;
  scoreEl.textContent = `Mastered: ${mastered.size}`;
  updateListHighlight();
  if(autospeak.checked) speak(card.answer);
}

function updateListHighlight(){
  Array.from(vocabListEl.children).forEach((el,k)=>{
    const realIndex = k;
    el.style.opacity = (order[currentIndex]===realIndex? "1":"0.6");
    const badge = el.querySelector('.badge');
    badge.textContent = mastered.has(realIndex) ? 'âœ“' : '';
  });
}

function shuffleOrder(){
  order = order.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);
  currentIndex = 0;
  renderCard();
}

function saveMastered(){ localStorage.setItem('mastered', JSON.stringify([...mastered])); }

function speak(text){
  if(!("speechSynthesis" in window)) return;
  const u = new SpeechSynthesisUtterance(text);
  u.lang = "ro-RO"; u.rate = .95; u.pitch = 1;
  speechSynthesis.cancel(); speechSynthesis.speak(u);
}

function buildList(){
  vocabListEl.innerHTML = '';
  flashcards.forEach((f,i)=>{
    const el=document.createElement('div');
    el.className='list-item';
    el.innerHTML=`<div>${f.answer} <small style="color:var(--muted)">â€” ${f.question}</small></div><div class="badge">${mastered.has(i)?'âœ“':''}</div>`;
    el.onclick=()=>{
      const pos = order.indexOf(i);
      if(pos!==-1){currentIndex=pos;flashcardEl.classList.remove('flipped');renderCard();flashcardEl.focus();}
    };
    vocabListEl.appendChild(el);
  });
  updateListHighlight();
}

document.getElementById('nextBtn').onclick=()=>{currentIndex=(currentIndex+1)%order.length;flashcardEl.classList.remove('flipped');renderCard();}
document.getElementById('prevBtn').onclick=()=>{currentIndex=(currentIndex-1+order.length)%order.length;flashcardEl.classList.remove('flipped');renderCard();}
document.getElementById('flipBtn').onclick=()=>flashcardEl.classList.toggle('flipped');
document.getElementById('shuffle').onclick=()=>shuffleOrder();
document.getElementById('againBtn').onclick=()=>{mastered.delete(order[currentIndex]);saveMastered();buildList();renderCard();}
document.getElementById('goodBtn').onclick=()=>{mastered.add(order[currentIndex]);saveMastered();buildList();renderCard();}

document.getElementById('reset').onclick=()=>{
  if(confirm("Reset progress?")){
    mastered=new Set();saveMastered();buildList();renderCard();
  }
};

document.getElementById('showAll').onclick=()=>alert(flashcards.map(f=>`${f.question} â€” ${f.answer}`).join('\n'));
document.getElementById('listenAll').onclick=async()=>{for(let i=0;i<flashcards.length;i++){speak(flashcards[i].answer);await new Promise(r=>setTimeout(r,600));}};
document.getElementById('randomizeOrder').onclick=()=>shuffleOrder();
speakBtn.onclick=()=>speak(flashcards[order[currentIndex]].answer);

document.getElementById('mode').onchange=e=>typingArea.style.display=e.target.value==="typing"?"block":"none";
document.getElementById('checkBtn').onclick=()=>{
  const attempt=typingInput.value.trim().toLowerCase();
  const correct=flashcards[order[currentIndex]].answer.toLowerCase();
  if(attempt===correct){
    alert("Correct!");mastered.add(order[currentIndex]);saveMastered();
    typingInput.value='';currentIndex=(currentIndex+1)%order.length;
    flashcardEl.classList.remove('flipped');renderCard();
  } else alert("Not quite â€” correct: "+correct);
};

flashcardEl.addEventListener('keydown',e=>{
  if(e.key===' '){e.preventDefault();flashcardEl.classList.toggle('flipped');}
  if(e.key==='ArrowRight') document.getElementById('nextBtn').click();
  if(e.key==='ArrowLeft') document.getElementById('prevBtn').click();
});
flashcardEl.addEventListener('click',()=>flashcardEl.classList.toggle('flipped'));

/* Match game */
const matchArea=document.getElementById('matchArea');
document.getElementById('startMatch').onclick=()=>{
  matchArea.innerHTML='';
  const left=flashcards.map((f,i)=>({text:f.answer,idx:i,side:'ro'}));
  const right=flashcards.map((f,i)=>({text:f.question,idx:i,side:'en'}));
  const items=shuffle(left.concat(right));
  items.forEach(it=>{
    const t=document.createElement('div');
    t.className='tile';t.textContent=it.text;t.dataset.idx=it.idx;t.dataset.side=it.side;
    t.onclick=()=>tileClick(t);matchArea.appendChild(t);
  });
  firstTile=null;
};

let firstTile=null;
function tileClick(el){
  if(!firstTile){
    firstTile=el;el.style.opacity='0.6';
  } else {
    if(firstTile===el){
      firstTile.style.opacity='1';firstTile=null;return;
    }
    if(firstTile.dataset.idx===el.dataset.idx && firstTile.dataset.side!==el.dataset.side){
      firstTile.style.background='linear-gradient(90deg,var(--accent),#c4b5fd)';
      el.style.background='linear-gradient(90deg,var(--accent),#c4b5fd)';
      firstTile.onclick=el.onclick=null;
    } else alert("Not a match. Try again.");
    firstTile.style.opacity='1';firstTile=null;
  }
}

function shuffle(a){return a.map(v=>[Math.random(),v]).sort((x,y)=>x[0]-y[0]).map(x=>x[1]);}

/* Init */
function init(){
  const saved=JSON.parse(localStorage.getItem('order')||'null');
  if(saved && Array.isArray(saved) && saved.length===flashcards.length) order=saved.slice();
  buildList();renderCard();
  window.addEventListener('beforeunload',()=>localStorage.setItem('order',JSON.stringify(order)));
  flashcardEl.setAttribute('tabindex','0');
}
init();
</script>

</body>
</html>
